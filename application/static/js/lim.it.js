  /*---------------------------------------------------------------------

  Template Name:  lim.it
  Version:        1.0
  Release Date:   July 12, 2010

  File:           lim.it.js
  Updated:        2010-07-12

  Copyright (c) 2010 Chanry Ian - http://wcweb.us

  -----------------------------------------------------------------------

  WARNING! DO NOT EDIT THIS FILE UNLESS YOU KNOW WHAT YOU ARE DOING!

  ---------------------------------------------------------------------*/
  // globle use

  // sometime you can preload some images
  // imageObj = new Image();
  // imgs = ["/static/style/img/toggle.gif", "/static/style/img/nyro/ajaxLoader.gif", "/static/style/img/nyro/prev.gif", "/static/style/img/nyro/next.gif"];
  // for (i = 0; i <= imgs.length; i++) imageObj.src = imgs[i];

  // lim object setup




  var Limit = {};

  Limit.scrollToTop = function(e){
    $(e).hide().removeAttr("href");
    if ($(window).scrollTop() !== 0) {
      $(e).fadeIn("slow");
    }
    var scrollDiv = $(e);
    $(window).scroll(function () {
      if ($(window).scrollTop() === 0) {
        $(scrollDiv).fadeOut("slow");
      } else {
        $(scrollDiv).fadeIn("slow");
      }
    });
    $(e).click(function () {
      $("html, body").animate({
        scrollTop: 0
      }, "slow");
    });
  };

  Limit.setup = function () {
  // Open external link in new windows
  $('a[href^="http://"]').filter(function () {
    return this.hostname && this.hostname !== location.hostname;
  }).attr('target', '_blank');

        // scroll to top on request
        if ($("a#totop").length) {
          Limit.scrollToTop("a#totop");
        }
    // setup content boxes
    if ($(".content-box").length) {
      $(".content-box .head").css({
        "cursor": "s-resize"
      });
      $(".content-box .body").slideUp();

        // Give the header in content-box a different cursor
        $(".content-box .head").toggle(
          function () {
            var that=this;
            $(this).parent().find('.body').slideDown('slow',function(){
              $(that).children().find('.caption').toggleClass("content-box-closed");
            }); // Toggle the content

          },function(){
            var that=this;
            $(this).parent().find('.body').slideUp('slow',function(){
              console.log($(that));
              $(that).children().find('.caption').toggleClass("content-box-closed");
            }); // Toggle the content

          });
      }


    // custom tooltips to replace the default browser tooltips for <a title=""> <div title=""> and <span title="">
    // $("a[title], div[title], span[title]").tipTip();
    if($('.dropdown-toggle').length){
      $('.dropdown-toggle').dropdown();
    }
  // if($(".collapse").length){\

  //     $(".collapse").collapse();\

  // }\

  if($('#myModal').length){
    $('#myModal').modal('hide');
  }

};

Limit.setup();

$(function(){
 if($.jqplot!==undefined){
  $.jqplot.config.enablePlugins = true;
  var ss1 = [[0, 5],[5,5],[5,10],[10,10],[10,15],[15,15],[15,20],[20,20]];
  var ss2 =  [[5, 0],[5,5],[15,5],[15,15],[20,15],[20,20]];
  if($('#chart2').length){
    $.jqplot('chart2',  [ss1],
      { title:'课堂行为分析图',
      axesDefaults:{
        min:0,
        max:60,
        pad:1,
        autoscale:true
      },
      axes:{
        xaxis:{
          tickInterval:5,
          autoscale:false
        },
        yaxis:{
         tickInterval:5,
         autoscale:false
       }
     },
     tickInterval:5,
     numberTicks:6,
     legend:{
      show:true,
      rendererOptions:{placement: "insideGrid"},
      location:'se'},
      series:[
      {
        showLabel:true,
        label:'标准组',
        color:'#5FAB78'
      },
      {
        showLabel:true,
        label:'测试组',
        color:'#d8b83f'
      }
      ],
      cursor:{
        show:true
      }
    });
  }
  

}

});

$(function(){
  if($("#datepicker").length){
    $("#datepicker").datepicker(
      {dayNamesMin:['日','一','二','三','四','五','六']}
      );
    //getter
    var monthNames = $( "#datepicker" ).datepicker( "option", "monthNames" );
//setter
$( "#datepicker" ).datepicker( "option", "monthNames", ["一月","二月","三月","四月","五月","六月","七月","八月",'九月',"十月","十一月","十二月"] );
}

});



$(function(){
  $('.toggle-info').slideUp('fast');
  $('.toggle-info-btn').toggle(
    function(){
      var that=this;

      $("#"+$(this).attr('rel')).slideDown(
        'slow',function(){
          $(that).children().html('隐藏信息');
        }

        );
    },
    function(){
      var that=this;
      $("#"+$(this).attr('rel')).slideUp(
        'fast',function(){
          $(that).children().html('显示信息');
        });
    });
});



$(window).load(function() {
  if($.fn.nivoSlider){
    $('#slider').nivoSlider(
      {slideInRight:'left',
      controlNavThumbs: true,
      effect: 'random',
      beforeChange:function(){
        var vars = $('#slider').data("nivo:vars"),
        currentNavEl = vars.controlNavEl,
        currentSlide = vars.currentSlide,
        totalSlides = vars.totalSlides,
        st;
        if(currentSlide === vars.totalSlides-1){
          st = 0;
        }else{
          var nextSlide = vars.currentSlide;
          st =  -currentNavEl.children().filter('.active').height()*(nextSlide);
        }
        currentNavEl.animate({top: st},1500);
      }}
      );
  }
});

var commentInit=0;

$(function(){
  if($(".hidden_first").length>0){
    $(".hidden_first").hide();
  }
});


$(function(){

    if(commentInit == 0){
      $("#").focus( function(evt){
        if($('#mediaPlcommentPlayerayer').length>0){
          var currentPosition = jwplayer('mediaPlayer').getPosition();
          console.log("currentPosition :"+currentPosition);
          commentInit = 1;
        }
      });
    }else{

    }
    
});

var userAgent = navigator.userAgent.toLowerCase();
var is_opera = userAgent.indexOf('opera') != -1 && opera.version();
var is_moz = (navigator.product == 'Gecko') && userAgent.substr(userAgent.indexOf('firefox') + 8, 3);
var is_ie = (userAgent.indexOf('msie') != -1 && !is_opera) && userAgent.substr(userAgent.indexOf('msie') + 5, 3);
var is_safari = (userAgent.indexOf('webkit') != -1 || userAgent.indexOf('safari') != -1);


//复制代码
function setcopy(id, type){
  if(isUndefined(type)) {
      type = 'copycode'
    }
  msgid = type+'_msg';
  
  text = document.getElementById(id).value;
  document.getElementById(id).select();
  if(text == null || text == "") {
    setWord(msgid, '没有要复制的内容');
    return false;
  }
  if(is_ie) {
    clipboardData.setData('Text', text);
    
    if(type == 'copyinvitelink'){
      setWord(msgid, '复制成功,这是您的专用邀请链接，登录QQ或MSN发送给好友吧~');
    } else {
      setWord(msgid, '代码复制成功,直接可以粘贴使用');
    }
  } 
else if(prompt('你使用的是非IE核心浏览器，请按下 Ctrl+C 复制内容到剪贴板', text)) {
  setWord(msgid, '你使用的是非IE核心浏览器，请按下 Ctrl+C 复制内容到剪贴板');
   document.getElementById(msgid).style.color = 'red';
 } 
  else {
    if(type == 'copyinvitelink'){
      setWord(msgid, '你使用的是非IE核心浏览器，请按下 Ctrl+C 复制邀请链接到剪贴板');
    } else {
      setWord(msgid, '你使用的是非IE核心浏览器，请按下 Ctrl+C 复制代码到剪贴板');
    }
    
    document.getElementById(msgid).style.color = 'red';
  }
}
function setWord(id,value) {
  $(id).innerHTML = value;
}
function isUndefined(variable) {
  return typeof variable == 'undefined' ? true : false;
}
// site_path ="localhost";
// $(function({
//   if($('#share_it').length >0){
//       "http://localhost:8080/static/player/jwplayer.js
//        jwplayer('mediaPlayer').setup({
//                     modes: [
//             /*{ type: 'html5' 
              
//               // plugins:{
//                 //            '{{url_for('static',filename='player/cueboy.js')}}': {
//                   //                          dockname: '',......
//                   //                        },
//                 //} 
//               },*/
//               { type: 'flash', src: '{{url_for('static',filename='swf/player.swf')}}'+'?debug=none' }

//               ],
//               file: '{{url_for('static',filename='video/video.mp4') }}',
//               plugins: {
//               //hd: { file: "{{url_for('static',filename='video/5.mp4') }}", fullscreen: true },
//               '{{url_for('static',filename='swf/hdswitcher.swf') }}': { file: "{{url_for('static',filename='video/video.mp4') }}", fullscreen: true },
//               '{{url_for('static',filename='swf/cueboy.swf') }}': {file:  "{{url_for('static',filename='xml/empty.xml')}}",
//               dockname:'打点信息',
//               heading: '打点列表',
//               dimensions:'100x48',
//               onclick:'play',
//               editable:true,
//               url:'http://localhost/url/url.php',
//             }

//           },
//           height: 270,
//           width: 580
//         });
//   }
// }))





